

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>GPU programming concepts &mdash; GPU programming: why, when and how?  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_lesson.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_rtd_theme_ext_color_contrast.css" type="text/css" />
  <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/minipres.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="GPU software environments" href="../5-gpu-software/" />
    <link rel="prev" title="What problems fit to GPU?" href="../3-gpu-problems/" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../" class="icon icon-home"> GPU programming: why, when and how?
          

          
            
            <img src="../_static/ENCCS.jpg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">The lesson</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1-gpu-history/">Why GPUs?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-gpu-hardware/">Introduction to GPU hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-gpu-problems/">What problems fit to GPU?</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GPU programming concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#different-types-of-parallelism">Different types of parallelism</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distributed-vs-shared-memory-architecture">Distributed- vs. Shared-Memory Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#processes-and-threads">Processes and threads</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exposing-parallelism">Exposing parallelism</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5-gpu-software/">GPU software environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-gpu-porting/">Preparing code for GPU porting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../7-gpu-levels/">GPU programming types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../8-recommendations/">Recommendations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../9-examples/">Problem example: heat equation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/">Instructor’s guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">GPU programming: why, when and how?</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../" class="icon icon-home"></a> &raquo;</li>
        
      <li>GPU programming concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/ENCCS/GPU-programming/blob/main/content/4-gpu-concepts.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="gpu-programming-concepts">
<span id="gpu-concepts"></span><h1>GPU programming concepts<a class="headerlink" href="#gpu-programming-concepts" title="Permalink to this heading">¶</a></h1>
<div class="admonition-questions questions admonition" id="questions-0">
<p class="admonition-title">Questions</p>
<ul class="simple">
<li><p>q1</p></li>
<li><p>q2</p></li>
</ul>
</div>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>o1</p></li>
<li><p>o2</p></li>
</ul>
</div>
<div class="admonition-instructor-note instructor-note admonition" id="instructor-note-0">
<p class="admonition-title">Instructor note</p>
<ul class="simple">
<li><p>X min teaching</p></li>
<li><p>X min exercises</p></li>
</ul>
</div>
<section id="different-types-of-parallelism">
<h2>Different types of parallelism<a class="headerlink" href="#different-types-of-parallelism" title="Permalink to this heading">¶</a></h2>
<section id="distributed-vs-shared-memory-architecture">
<h3>Distributed- vs. Shared-Memory Architecture<a class="headerlink" href="#distributed-vs-shared-memory-architecture" title="Permalink to this heading">¶</a></h3>
<p>Most of computing problems are not trivially parallelizable, which means that the subtasks
need to have access from time to time to some of the results computed by other subtasks.
The way subtasks exchange needed information depends on the available hardware.</p>
<figure class="align-center" id="id1">
<img alt="../_images/distributed_vs_shared.png" src="../_images/distributed_vs_shared.png" />
<figcaption>
<p><span class="caption-text">Distributed- vs shared-memory parallel computing.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>In a distributed memory environment each computing unit operates independently from the
others. It has its own memory and it  <strong>cannot</strong> access the memory in other nodes.
The communication is done via network and each computing unit runs a separate copy of the
operating system. In a shared memory machine all computing units have access to the memory
and can read or modify the variables within.</p>
</section>
<section id="processes-and-threads">
<h3>Processes and threads<a class="headerlink" href="#processes-and-threads" title="Permalink to this heading">¶</a></h3>
<p>The type of environment (distributed- or shared-memory) determines the programming model.
There are two types of parallelism possible, process based and thread based.</p>
<figure class="align-center">
<img alt="../_images/processes-threads.png" src="../_images/processes-threads.png" />
</figure>
<p>For distributed memory machines, a process-based parallel programming model is employed.
The processes are independent execution units which have their <em>own memory</em> address spaces.
They are created when the parallel program is started and they are only terminated at the
end. The communication between them is done explicitly via message passing like MPI.</p>
<p>On the shared memory architectures it is possible to use a thread based parallelism.
The threads are light execution units and can be created and destroyed at a relatively
small cost. The threads have their own state information but they <em>share</em> the <em>same memory</em>
adress space. When needed the communication is done though the shared memory.</p>
<p>Both approaches have their advantages and disadvantages.  Distributed machines are
relatively cheap to build and they  have an “infinite ” capacity. In principle one could
add more and more computing units. In practice the more computing units are used the more
time consuming is the communication. The shared memory systems can achive good performance
and the programing model is quite simple. However they are limited by the memory capacity
and by the access speed. In addition in the shared parallel model it is much easier to
create race conditions.</p>
</section>
</section>
<section id="exposing-parallelism">
<h2>Exposing parallelism<a class="headerlink" href="#exposing-parallelism" title="Permalink to this heading">¶</a></h2>
<p>The are two types of parallelism tha can be explored.
The data parallelism is when the data can be distributed across computational units that can run in parallel.
They than process the data applying the same or very simular operation to diffenet data elements.
A common example is applying a blur filter to an image — the same function is applied to all the pixels on the image.
This parallelism is natural for the GPU, where the same instruction set is executed in multiple <a class="reference internal" href="../glossary/#term-thread"><span class="xref std std-term">threads</span></a>.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/ENCCS-OpenACC-CUDA_TaskParallelism_Explanation.png"><img alt="../_images/ENCCS-OpenACC-CUDA_TaskParallelism_Explanation.png" src="../_images/ENCCS-OpenACC-CUDA_TaskParallelism_Explanation.png" style="width: 715.2px; height: 265.6px;" /></a>
<figcaption>
<p><span class="caption-text">Data parallelism and task parallelism.
The data parallelism is when the same operation applies to multiple data (e.g. multiple elements of an array are transformed).
The task parallelism implies that there are more than one independent task that, in principle, can be executed in parallel.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Data parallelism can usually be explored by the GPUs quite easily.
The most basic approach would be finding a loop over many data elements and converting it into a GPU kernel.
If the number of elements in the data set if fairly large (tens or hundred of thousands elements), the GPU should perform quite well.
Although it would be odd to expect absolute maximum performance from such a naive approach, it is often the one to take.
Getting absolute maximum out of the data parallelism requires good understanding of how GPU works.</p>
<p>Another type of parallelism is a task parallelism.
This is when an application consists of more than one task that requiring to perform different operations with (the same or) different data.
An example of task parallelism is cooking: slicing vegetables and grilling are very different tasks and can be done at the same time.
Note that the tasks can consume totally different resources, which also can be explored.</p>
<div class="admonition-keypoints keypoints admonition" id="keypoints-0">
<p class="admonition-title">Keypoints</p>
<ul class="simple">
<li><p>k1</p></li>
<li><p>k2</p></li>
</ul>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../5-gpu-software/" class="btn btn-neutral float-right" title="GPU software environments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../3-gpu-problems/" class="btn btn-neutral float-left" title="What problems fit to GPU?" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, The contributors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>